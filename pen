local function getPetPenStatus()
    local ClientData = require(game:GetService("ReplicatedStorage").ClientModules.Core.ClientData)
    local player = game.Players.LocalPlayer
    
    local data = ClientData.get_data()[player.Name]
    if not data then return {} end
    
    local manager = data.idle_progression_manager
    if not manager or not manager.active_pets then return {} end
    
    local petPenSlots = {}
    
    -- Count pets in active_pets (these are in PetPen)
    for _, petUnique in pairs(manager.active_pets) do
        local petData = data.inventory.pets[petUnique]
        if petData then
            table.insert(petPenSlots, {
                name = petData.id,
                age = petData.properties.age,
                neon = petData.properties.neon or false,
                unique = petUnique
            })
        end
    end
    
    return petPenSlots
end

-- Simple usage:
local function printPetPenStatus()
    local slots = getPetPenStatus()
    
    print("üêæ PETPEN STATUS:")
    print("Slots used: " .. #slots .. "/4")
    
    for i, pet in ipairs(slots) do
        print(string.format("  [%d] %s | Age: %d | %s", 
            i, pet.name, pet.age, pet.neon and "NEON üåü" or "Normal"))
    end
    
    for i = #slots + 1, 4 do
        print("  [" .. i .. "] EMPTY")
    end
end

-- Even simpler one-liner version:
local function getPetPenCount()
    local data = require(game:GetService("ReplicatedStorage").ClientModules.Core.ClientData).get_data()[game.Players.LocalPlayer.Name]
    return data and data.idle_progression_manager and #data.idle_progression_manager.active_pets or 0
end

-- Usage examples:
printPetPenStatus() -- Full status
print("Pets in PetPen: " .. getPetPenCount() .. "/4") -- Just count
