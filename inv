-- Simple function to show inventory items
local function showInventory()
    print("ğŸ“¦ CHECKING INVENTORY...")
    
    local success, data = pcall(function()
        return require(ReplicatedStorage.ClientModules.Core.ClientData).get_data()[player.Name]
    end)
    
    if not success then
        print("âŒ Failed to get player data")
        return
    end
    
    if not data then
        print("âŒ No player data found")
        return
    end
    
    print("âœ… Player data loaded successfully")
    
    -- Check what's in the data
    print("ğŸ“‹ Data keys:")
    for key, value in pairs(data) do
        print("  " .. key .. " = " .. type(value))
    end
    
    -- Check inventory
    if data.inventory then
        print("ğŸ’ INVENTORY FOUND!")
        print("Inventory keys:")
        for key, value in pairs(data.inventory) do
            print("  " .. key .. " = " .. type(value))
        end
        
        -- Show pets if they exist
        if data.inventory.pets then
            print("ğŸ¾ PETS (" .. table.count(data.inventory.pets) .. "):")
            local count = 0
            for petId, petData in pairs(data.inventory.pets) do
                count = count + 1
                if count <= 5 then  -- Show first 5 pets only
                    print("  Pet " .. count .. ": " .. tostring(petData.id))
                    -- Show pet fields
                    for key, value in pairs(petData) do
                        if type(value) == "table" then
                            print("    " .. key .. " = [table]")
                        else
                            print("    " .. key .. " = " .. tostring(value))
                        end
                    end
                    print("    ---")
                end
            end
            if count > 5 then
                print("  ... and " .. (count - 5) .. " more pets")
            end
        else
            print("âŒ No pets in inventory")
        end
        
        -- Show other inventory sections
        local sections = {"toys", "food", "strollers", "furniture"}
        for _, section in ipairs(sections) do
            if data.inventory[section] then
                local count = table.count(data.inventory[section])
                print("ğŸ“ " .. section:upper() .. " (" .. count .. " items)")
            end
        end
        
    else
        print("âŒ No inventory found in data")
    end
end

-- Even simpler version - just show counts
local function showInventoryCounts()
    print("ğŸ”¢ INVENTORY COUNTS:")
    
    local success, data = pcall(function()
        return require(ReplicatedStorage.ClientModules.Core.ClientData).get_data()[player.Name]
    end)
    
    if success and data and data.inventory then
        for section, items in pairs(data.inventory) do
            if type(items) == "table" then
                local count = 0
                for _ in pairs(items) do
                    count = count + 1
                end
                print("  " .. section .. ": " .. count .. " items")
            end
        end
    else
        print("âŒ Could not load inventory")
    end
end

-- Test if we can even access the data
local function testDataAccess()
    print("ğŸ§ª TESTING DATA ACCESS...")
    
    local success, result = pcall(function()
        local module = require(ReplicatedStorage.ClientModules.Core.ClientData)
        return module
    end)
    
    if success then
        print("âœ… ClientData module loaded")
        
        local success2, data = pcall(function()
            return result.get_data()
        end)
        
        if success2 then
            print("âœ… get_data() works")
            if data[player.Name] then
                print("âœ… Player data found")
            else
                print("âŒ No data for current player")
            end
        else
            print("âŒ get_data() failed: " .. tostring(data))
        end
    else
        print("âŒ Failed to require ClientData: " .. tostring(result))
    end
end

-- Call this to see what's in your inventory
showInventory()

-- Or call the simple version
-- showInventoryCounts()

-- Or test data access first
-- testDataAccess()
