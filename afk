--[[
    Simple Anti-AFK Script
    Prevents the player from being kicked for being idle.
    Works in most modern games.
]]

-- Get the local player
local player = game.Players.LocalPlayer

-- Check if the 'getconnections' function is available (best method)
if getconnections then
    -- Find all connections to the player's 'Idled' event
    for _, connection in pairs(getconnections(player.Idled)) do
        -- Disable the connection to prevent the idle kick
        if connection.Disable then
            connection:Disable()
        end
    end
    print("Anti-AFK: Successfully disabled idle kick.")

-- Fallback method for executors that don't have 'getconnections'
else
    -- Connect a new function to the 'Idled' event
    player.Idled:Connect(function()
        -- Simulate user activity to prevent being kicked
        local VirtualUser = game:GetService("VirtualUser")
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new())
    end)
    print("Anti-AFK: Fallback method enabled. Simulating activity when idle.")
end

print("Anti-AFK script is now active.")
