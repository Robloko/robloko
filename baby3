local Tasks = {"hungry", "sleepy", "thirsty", "bored", "dirty", "camping", "sick", "school", "hot_spring", "salon", "pizza_party"}

local Toggle1 = Section1:CreateToggle("AutoFarm Baby", Settings.BabyFarm, function(State)
    Settings.BabyFarm = State

    pcall(function()
        if State then
            local chooseTeam = ReplicatedStorage:FindFirstChild("API") and ReplicatedStorage.API:FindFirstChild("TeamAPI/ChooseTeam")
            if chooseTeam then
                chooseTeam:InvokeServer("Babies", true)
            end
        else
            local chooseTeam = ReplicatedStorage:FindFirstChild("API") and ReplicatedStorage.API:FindFirstChild("TeamAPI/ChooseTeam")
            if chooseTeam then
                chooseTeam:InvokeServer("Parents", true)
            end
        end
    end)

    spawn(function()
        while Settings.BabyFarm and task.wait(1) do
            pcall(function()
                local clientDataModule = ReplicatedStorage:FindFirstChild("ClientModules")
                if not clientDataModule then return end

                local coreModule = clientDataModule:FindFirstChild("Core")
                if not coreModule then return end

                local clientData = require(coreModule:WaitForChild("ClientData"))
                if not clientData then return end

                local playerData = clientData.get_data()[game.Players.LocalPlayer.Name]
                if not playerData or not playerData.ailments_manager or not playerData.ailments_manager.baby_ilness then
                    warn("No baby ailments found.")
                    return
                end

                for ailmentType, _ in pairs(playerData.ailments_manager.baby_ilness) do
                    if table.find(Tasks, ailmentType) then
                        local addAdditive = ReplicatedStorage:FindFirstChild("API") and ReplicatedStorage.API:FindFirstChild("MonitorAPI/AddAdditive")
                        if addAdditive then
                            addAdditive:FireServer(ailmentType, 1)
                            print("Resolving baby ailment:", ailmentType)
                        end
                    end
                end
            end)
        end
    end)
end)
