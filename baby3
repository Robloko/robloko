local Tasks = {"hungry", "sleepy", "thirsty", "bored", "dirty", "camping", "sick", "school", "hot_spring", "salon", "pizza_party"}

local function resolveBabyAilments()
    while true do
        task.wait(1) -- Задержка в 1 секунду между проверками

        local success, err = pcall(function()
            -- Проверка наличия необходимых модулей и объектов
            local clientDataModule = game:GetService("ReplicatedStorage"):FindFirstChild("ClientModules")
            if not clientDataModule then error("ClientModules not found") end

            local coreModule = clientDataModule:FindFirstChild("Core")
            if not coreModule then error("Core module not found") end

            local clientData = require(coreModule:WaitForChild("ClientData"))
            if not clientData then error("Failed to load ClientData") end

            local playerData = clientData.get_data()[game.Players.LocalPlayer.Name]
            if not playerData then error("Failed to get player data") end

            if not playerData.ailments_manager then error("ailments_manager not found") end
            if not playerData.ailments_manager.baby_ailments then error("baby_ailments not found") end

            -- Обработка baby ailments
            for ailmentType, _ in pairs(playerData.ailments_manager.baby_ailments) do
                if table.find(Tasks, ailmentType) then
                    local addAdditive = game:GetService("ReplicatedStorage").API:FindFirstChild("MonitorAPI/AddAdditive")
                    if addAdditive then
                        addAdditive:FireServer(ailmentType, 1)
                        print("Resolving baby ailment:", ailmentType)
                    else
                        warn("AddAdditive not found")
                    end
                end
            end
        end)

        if not success then
            warn("Error resolving baby ailments: " .. tostring(err))
        end
    end
end

-- Запуск функции
resolveBabyAilments()
