-- Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Player
local player = Players.LocalPlayer

-- Function to recursively print table contents
local function printTable(t, indent)
    indent = indent or 0
    for key, value in pairs(t) do
        local formatting = string.rep("  ", indent) .. tostring(key) .. ": "
        if type(value) == "table" then
            print(formatting .. "[TABLE]")
            printTable(value, indent + 1)
        else
            print(formatting .. tostring(value))
        end
    end
end

-- Function to inspect pet_state_managers
local function inspectPetStateManagers()
    print("ğŸ” DEEP INSPECTING pet_state_managers")
    print("====================================")

    -- Safely require ClientData
    local success, clientData = pcall(function() return require(ReplicatedStorage.ClientModules.Core.ClientData) end)
    if not success then
        warn("Failed to require ClientData:", clientData)
        return
    end

    -- Safely get player data
    local success, data = pcall(function() return clientData.get_data()[player.Name] end)
    if not success then
        warn("Failed to get player data:", data)
        return
    end

    -- Access pet_state_managers
    local petStateManagers = data.pet_state_managers
    if not petStateManagers then
        print("âŒ pet_state_managers not found in player data")
        return
    end

    -- Deep print pet_state_managers
    print("ğŸ“‹ Contents of pet_state_managers:")
    printTable(petStateManagers, 2)
end

-- Run the function
inspectPetStateManagers()
