-- ADD THIS FUNCTION
local function purgeNonPriorityGarbage()
    debugPrint("NUCLEAR PURGE: Removing all non-priority trash from PetPen...")
    local data = require(ReplicatedStorage.ClientModules.Core.ClientData).get_data()[player.Name]
    local prioritySet = {
        ["basic_egg_2022_ant"] = true,
        ["basic_egg_2022_mouse"] = true,
        ["basic_egg_2022_camel"] = true,
        ["basic_egg_2022_poodle"] = true,
        ["basic_egg_2022_donkey"] = true,
        ["basic_egg_2022_zebra"] = true,
        ["cracked_egg"] = true
    }

    local removed = 0
    if data.idle_progression_manager and data.idle_progression_manager.active_pets then
        for uniqueId, _ in pairs(data.idle_progression_manager.active_pets) do
            local pet = data.inventory.pets[uniqueId]
            if pet and pet.id then
                local cleanName = string.lower(pet.id)
                if not prioritySet[cleanName] and not pet.properties.neon then
                    -- REMOVE THIS TRASH
                    local success, err = pcall(function()
                        ReplicatedStorage.API["IdleProgressionAPI/RemovePet"]:FireServer(uniqueId)
                    end)
                    if success then
                        debugPrint("REMOVED TRASH: " .. pet.id .. " (Age: " .. pet.properties.age .. ")")
                        removed += 1
                    else
                        debugPrint("Failed to remove: " .. pet.id)
                    end
                    task.wait(0.7)
                end
            end
        end
    end
    debugPrint("NUCLEAR PURGE COMPLETE: Removed " .. removed .. " garbage pets")
    return removed
end
