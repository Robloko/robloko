-- Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Player
local player = Players.LocalPlayer

-- Function to deeply inspect house_interior
local function inspectHouseInterior()
    print("ğŸ” DEEP INSPECTION: HOUSE INTERIOR")
    print("==================================")
    
    local clientData = require(ReplicatedStorage.ClientModules.Core.ClientData)
    local data = clientData.get_data()[player.Name]
    
    if not data.house_manager then
        print("âŒ No house_manager found")
        return
    end
    
    local houseInterior = data.house_manager.house_interior
    if not houseInterior then
        print("âŒ No house_interior found")
        return
    end
    
    print("ğŸ  HOUSE INTERIOR STRUCTURE:")
    print("----------------------------")
    
    for category, items in pairs(houseInterior) do
        if type(items) == "table" then
            print("ğŸ“ " .. category .. ":")
            
            -- Check if it's an array-like table or key-value pairs
            local isArray = false
            local count = 0
            for k, v in pairs(items) do
                count = count + 1
                if type(k) == "number" then
                    isArray = true
                end
            end
            
            if isArray then
                print("   ğŸ“Š Array with " .. count .. " items:")
                for i, item in ipairs(items) do
                    if type(item) == "table" then
                        print("   â””â”€ Item " .. i .. " [TABLE]:")
                        for prop, value in pairs(item) do
                            print("     â”‚ " .. prop .. " = " .. tostring(value))
                        end
                    else
                        print("   â””â”€ Item " .. i .. " = " .. tostring(item))
                    end
                end
            else
                print("   ğŸ“Š Key-Value pairs:")
                for key, value in pairs(items) do
                    if type(value) == "table" then
                        local subCount = 0
                        for _ in pairs(value) do subCount = subCount + 1 end
                        print("   â””â”€ " .. key .. " [TABLE with " .. subCount .. " items]")
                    else
                        print("   â””â”€ " .. key .. " = " .. tostring(value))
                    end
                end
            end
        else
            print("ğŸ“„ " .. category .. " = " .. tostring(items))
        end
        print("")
    end
    
    -- Additional analysis
    print("ğŸ“Š HOUSE INTERIOR ANALYSIS:")
    print("---------------------------")
    
    local totalCategories = 0
    local totalItems = 0
    
    for category, items in pairs(houseInterior) do
        totalCategories = totalCategories + 1
        if type(items) == "table" then
            local itemCount = 0
            for _ in pairs(items) do itemCount = itemCount + 1 end
            totalItems = totalItems + itemCount
            print("â€¢ " .. category .. ": " .. itemCount .. " items")
        else
            totalItems = totalItems + 1
            print("â€¢ " .. category .. ": 1 item")
        end
    end
    
    print("ğŸ“ˆ SUMMARY: " .. totalCategories .. " categories, " .. totalItems .. " total items")
end

-- Run the function
inspectHouseInterior()
