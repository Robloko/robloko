-- Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Player
local player = Players.LocalPlayer

-- Function to inspect the house manager table in detail
local function inspectHouseManagerDeep()
    print("üîç DEEP HOUSE MANAGER INSPECTION")
    print("================================")
    
    -- Get data
    local clientData = require(ReplicatedStorage.ClientModules.Core.ClientData)
    local myData = clientData.get_data()[player.Name]
    local hm = myData.house_manager
    
    print("üè† House Manager Structure:")
    print("Total top-level keys: " .. countKeys(hm))
    
    -- Show the actual key name and its contents
    for key, value in pairs(hm) do
        print("")
        print("üîë KEY: " .. key)
        print("Type: " .. type(value))
        
        if type(value) == "table" then
            local itemCount = countKeys(value)
            print("Table contains " .. itemCount .. " items:")
            print("")
            
            -- Show all items in this table
            local index = 1
            for subKey, subValue in pairs(value) do
                print("   " .. index .. ". " .. tostring(subKey) .. " = " .. inspectValue(subValue))
                index = index + 1
            end
        else
            print("Value: " .. tostring(value))
        end
    end
end

-- Function to count keys safely
local function countKeys(tbl)
    if type(tbl) ~= "table" then return 0 end
    local count = 0
    for _ in pairs(tbl) do count = count + 1 end
    return count
end

-- Function to inspect values safely
local function inspectValue(value)
    if type(value) == "table" then
        local count = countKeys(value)
        return "[Table with " .. count .. " items]"
    elseif type(value) == "string" then
        return '"' .. value .. '"'
    elseif type(value) == "boolean" then
        return tostring(value)
    else
        return tostring(value)
    end
end

-- Run the inspection
inspectHouseManagerDeep()
