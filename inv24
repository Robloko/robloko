-- Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Player
local player = Players.LocalPlayer

-- Function to deeply inspect house_interior table
local function inspectHouseInterior()
    print("üîç DEEP INSPECTION: HOUSE_INTERIOR TABLE")
    print("========================================")
    
    -- Get the client data module
    local success1, clientData = pcall(function()
        return require(ReplicatedStorage.ClientModules.Core.ClientData)
    end)
    
    if not success1 then
        print("‚ùå Failed to load ClientData: " .. tostring(clientData))
        return
    end
    
    -- Get all data
    local success2, allData = pcall(function()
        return clientData.get_data()
    end)
    
    if not success2 then
        print("‚ùå Failed to call get_data: " .. tostring(allData))
        return
    end
    
    -- Check if player data exists
    if not allData[player.Name] then
        print("‚ùå No data found for player: " .. player.Name)
        return
    end
    
    local playerData = allData[player.Name]
    
    -- Check if house_interior exists
    if not playerData.house_interior then
        print("‚ùå house_interior table not found in player data")
        return
    end
    
    local houseData = playerData.house_interior
    
    print("‚úÖ house_interior found! Contains " .. tostring(#houseData) .. " items")
    
    -- Show all 13 items in the house_interior table
    print("\nüè† ALL HOUSE_INTERIOR PROPERTIES:")
    print("================================")
    
    local itemCount = 0
    for key, value in pairs(houseData) do
        itemCount = itemCount + 1
        local valueType = type(value)
        local preview = ""
        
        if valueType == "table" then
            local subItems = 0
            for _ in pairs(value) do subItems = subItems + 1 end
            preview = " (contains " .. subItems .. " items)"
        elseif valueType == "Vector3" then
            preview = " = " .. tostring(value)
        elseif valueType == "number" then
            preview = " = " .. tostring(value)
        elseif valueType == "string" then
            preview = " = \"" .. tostring(value) .. "\""
        elseif valueType == "boolean" then
            preview = " = " .. tostring(value)
        end
        
        print(tostring(itemCount) .. ". " .. tostring(key) .. " [" .. valueType .. "]" .. preview)
    end
    
    -- Deep inspect specific known properties
    print("\nüìä DETAILED ANALYSIS:")
    print("====================")
    
    -- 1. Inspect house_pos
    if houseData.house_pos then
        print("üìç HOUSE_POS:")
        print("   Value: " .. tostring(houseData.house_pos))
        print("   Type: " .. type(houseData.house_pos))
    end
    
    -- 2. Inspect furniture_quantity
    if houseData.furniture_quantity then
        print("üî¢ FURNITURE_QUANTITY:")
        print("   Value: " .. tostring(houseData.furniture_quantity))
    end
    
    -- 3. Deep inspect furniture table
    if houseData.furniture and type(houseData.furniture) == "table" then
        print("ü™ë FURNITURE TABLE:")
        local furnitureCount = 0
        for key, furniture in pairs(houseData.furniture) do
            furnitureCount = furnitureCount + 1
        end
        print("   Contains " .. furnitureCount .. " furniture items")
        
        -- Show first few furniture items as samples
        local samplesShown = 0
        for furnitureKey, furnitureValue in pairs(houseData.furniture) do
            if samplesShown < 2 then
                print("   Sample " .. (samplesShown + 1) .. ":")
                print("     Key: " .. tostring(furnitureKey))
                print("     Type: " .. type(furnitureValue))
                
                if type(furnitureValue) == "table" then
                    for prop, val in pairs(furnitureValue) do
                        print("       " .. tostring(prop) .. ": " .. tostring(val) .. " [" .. type(val) .. "]")
                    end
                else
                    print("       Value: " .. tostring(furnitureValue))
                end
                samplesShown = samplesShown + 1
            else
                break
            end
        end
    end
    
    -- 4. Let's discover the other 10 items
    print("\nüîé OTHER PROPERTIES (10 remaining items):")
    print("=======================================")
    
    local otherPropsFound = 0
    for key, value in pairs(houseData) do
        if key ~= "house_pos" and key ~= "furniture" and key ~= "furniture_quantity" then
            otherPropsFound = otherPropsFound + 1
            local valueType = type(value)
            local preview = ""
            
            if valueType == "table" then
                local subCount = 0
                for _ in pairs(value) do subCount = subCount + 1 end
                preview = " (contains " .. subCount .. " items)"
            elseif valueType == "number" or valueType == "string" or valueType == "boolean" then
                preview = " = " .. tostring(value)
            end
            
            print(tostring(otherPropsFound) .. ". " .. tostring(key) .. " [" .. valueType .. "]" .. preview)
            
            -- Show contents of tables if they're small
            if valueType == "table" then
                local subCount = 0
                for subKey, subValue in pairs(value) do
                    subCount = subCount + 1
                    if subCount <= 3 then
                        print("     ‚îî‚îÄ " .. tostring(subKey) .. ": " .. tostring(subValue) .. " [" .. type(subValue) .. "]")
                    else
                        local remaining = 0
                        for _ in pairs(value) do remaining = remaining + 1 end
                        remaining = remaining - 3
                        print("     ‚îî‚îÄ ... and " .. remaining .. " more items")
                        break
                    end
                end
            end
        end
    end
    
    -- Summary
    print("\nüìà HOUSE INTERIOR SUMMARY:")
    print("=========================")
    print("Total properties: 13")
    print("‚úÖ house_pos - Vector3 position")
    print("‚úÖ furniture - Table with furniture items") 
    print("‚úÖ furniture_quantity - Number: " .. tostring(houseData.furniture_quantity or "N/A"))
    print("‚úÖ 10 other properties discovered above")
end

-- Run the inspection
inspectHouseInterior()
