-- ADOPT ME! — PETS + AILMENTS — РАБОТАЕТ ВСЕГДА (2025)
-- ВСТАВЬ → ЖДИ 3 СЕКУНДЫ → F9 → ГОТОВО

local Players = game:GetService("Players")
local player = Players.LocalPlayer

task.wait(3) -- Ждём загрузки игры

local function getClientData()
    -- ИЩЕМ В 5 РАЗНЫХ МЕСТАХ (на случай любого обновления)
    local paths = {
        "ReplicatedStorage.ClientModules.Core.ClientData",
        "ReplicatedStorage.Client.ClientModules.Core.ClientData",
        "ReplicatedStorage.Modules.ClientData",
        "ReplicatedStorage.ClientData",
        "ReplicatedStorage.src.ClientModules.Core.ClientData"
    }
    
    for _, path in ipairs(paths) do
        local success, result = pcall(function()
            local parts = string.split(path, ".")
            local current = game
            for _, part in ipairs(parts) do
                current = current:FindFirstChild(part) or current[part]
                if not current then return nil end
            end
            return require(current)
        end)
        if success and result then
            return result
        end
    end
    
    -- Последний способ — ищем по имени "ClientData" везде
    local found = game:GetService("ReplicatedStorage"):FindFirstChild("ClientData", true)
    if found then
        local success, mod = pcall(require, found)
        if success and mod then return mod end
    end
    
    return nil
end

local ClientData = getClientData()
if not ClientData then
    warn("ClientData не найден! Убедись, что ты в ADOPT ME и подожди 10 сек.")
    return
end

local data = ClientData.get_data and ClientData.get_data()[player.Name]
if not data then
    warn("Данные не загрузились. Подожди ещё 10 сек и запусти снова.")
    return
end

print("\nADOPT ME! — ТВОИ ПИТОМЦЫ + БОЛЕЗНИ")
print(string.rep("=", 55))

-- AILMENTS
print("БОЛЕЗНИ:")
if data.ailments_manager and type(data.ailments_manager) == "table" then
    local has = false
    for k, v in pairs(data.ailments_manager) do
        has = true
        if type(v) == "table" then
            print("  " .. k .. " → " .. #v .. " шт.")
        else
            print("  " .. k .. " = " .. tostring(v))
        end
    end
    if not has then print("  Нет болезней") end
else
    print("  Нет болезней")
end
print("")

-- PETS
local pets = data.pet_manager and data.pet_manager.pets
          or data.pets
          or data.inventory and data.inventory.pets
          or {}

local count = 0
for _ in pairs(pets) do count += 1 end

print("ПИТОМЦЕВ: " .. count)
if count == 0 then
    print("  Питомцев нет или они ещё грузятся")
else
    local list = {}
    for id, pet in pairs(pets) do
        local p = pet.Properties or pet
        local name = p.Name or "???"
        local rarity = p.Rarity or ""
        local age = p.Age or 0
        local ageName = age < 6 and "Newborn"
                     or age < 18 and "Junior"
                     or age < 36 and "Pre-Teen"
                     or age < 60 and "Teen"
                     or age < 100 and "Post-Teen"
                     or "Full Grown"
        
        local tags = ""
        if p.MegaNeon then tags = tags .. "[MEGA]" end
        if p.Neon then tags = tags .. "[NEON]" end
        if p.Rideable then tags = tags .. "[RIDE]" end
        if p.Flyable then tags = tags .. "[FLY]" end
        
        table.insert(list, string.format("%s %s %s → %s", name, rarity, tags, ageName))
    end
    
    table.sort(list, function(a,b) return a > b end) -- по алфавиту
    
    for i, line in ipairs(list) do
        print(string.format("%2d. %s", i, line))
    end
end

print("")
print(string.rep("=", 55))
print("ГОТОВО! СДЕЛАЙ СКРИН F9 И КИДАЙ ДРУЗЬЯМ!")
