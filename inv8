-- Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Player
local player = Players.LocalPlayer

-- Function to print all available pets in inventory
local function printAvailablePets()
    local pets = {}
    local success, errorMsg = pcall(function()
        local clientData = require(ReplicatedStorage.ClientModules.Core.ClientData)
        local playerData = clientData.get_data()[player.Name]

        -- Проверяем разные возможные пути к данным о питомцах
        local petsData = playerData.pet_manager and playerData.pet_manager.pets
                      or playerData.pets
                      or (playerData.inventory and playerData.inventory.pets)
                      or {}

        for petId, petData in pairs(petsData) do
            local props = petData.Properties or petData or {}
            local name = props.Name or props.DisplayName or "Unknown"
            local age = props.Age or props.Level or "?"
            local neon = props.Neon and "NEON" or ""
            local mega = props.MegaNeon and "MEGA" or ""
            local tags = (neon ~= "" and mega ~= "" and neon .. " " .. mega) or neon or mega or ""

            table.insert(pets, {
                id = petId,
                name = name,
                age = age,
                tags = tags
            })
        end
    end)

    if not success then
        print("Error reading pets data: " .. tostring(errorMsg))
        return
    end

    if #pets == 0 then
        print("No pets found in inventory!")
        return
    end

    print("=== AVAILABLE PETS IN INVENTORY ===")
    for i, pet in ipairs(pets) do
        print(string.format("%d. %s (Age: %s) - %s", i, pet.name, pet.age, pet.tags))
    end
    print("Total pets: " .. #pets)
    print("===================================")
end

-- Run the function
printAvailablePets()
