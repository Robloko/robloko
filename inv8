-- Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Player
local player = Players.LocalPlayer

-- Function to safely get player data
local function getPlayerData()
    -- Wait for ClientModules to load
    local clientModules = ReplicatedStorage:WaitForChild("ClientModules", 10)
    if not clientModules then
        warn("ClientModules not found in ReplicatedStorage!")
        return nil
    end

    -- Wait for Core module
    local coreModule = clientModules:WaitForChild("Core", 5)
    if not coreModule then
        warn("Core module not found in ClientModules!")
        return nil
    end

    -- Wait for ClientData module
    local clientDataModule = coreModule:WaitForChild("ClientData", 5)
    if not clientDataModule then
        warn("ClientData module not found in Core!")
        return nil
    end

    -- Load ClientData
    local clientData
    local success, err = pcall(function()
        clientData = require(clientDataModule)
    end)

    if not success or not clientData then
        warn("Failed to load ClientData: " .. tostring(err))
        return nil
    end

    -- Get player data
    local playerData
    success, err = pcall(function()
        playerData = clientData.get_data()[player.Name]
    end)

    if not success or not playerData then
        warn("Failed to get player data: " .. tostring(err))
        return nil
    end

    return playerData
end

-- Function to inspect pets inventory
local function inspectPets()
    print("ğŸ” INSPECTING PETS INVENTORY")
    print("=============================")

    local playerData = getPlayerData()
    if not playerData then
        print("âŒ Failed to get player data")
        return
    end

    if not playerData.inventory or not playerData.inventory.pets then
        print("âŒ No pets found in inventory")
        return
    end

    local petCount = 0
    for _ in pairs(playerData.inventory.pets) do
        petCount = petCount + 1
    end

    print("ğŸ“Š Total pets: " .. petCount)
    print("")

    -- Show first 10 pets with basic info
    local count = 0
    for petUniqueID, petData in pairs(playerData.inventory.pets) do
        count = count + 1
        if count > 10 then
            print("... and " .. (petCount - 10) .. " more pets")
            break
        end

        print("ğŸ¾ " .. (petData.id or "Unknown"))
        print("   Unique ID: " .. petUniqueID)
        print("   Age: " .. (petData.properties and petData.properties.age or "?"))
        print("   Neon: " .. tostring(petData.properties and petData.properties.neon or false))
        print("   Mega Neon: " .. tostring(petData.properties and petData.properties.mega_neon or false))
        print("   XP: " .. (petData.properties and petData.properties.xp or "?"))
        print("   ---")
    end
end

-- Run the function
inspectPets()
