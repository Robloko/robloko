-- ========================================
-- ♻️ TINY CENTERED TOGGLE BUTTON (START/STOP)
-- ========================================
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local pgui = player:WaitForChild("PlayerGui")

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "NurseryFarmerUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = pgui

-- Create Button
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 90, 0, 90)
toggleButton.Position = UDim2.new(0.5, -45, 0.5, -45) -- Perfect center
toggleButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
toggleButton.BorderSizePixel = 0
toggleButton.Text = "♻️"
toggleButton.TextColor3 = Color3.fromRGB(0, 255, 0)
toggleButton.TextScaled = true
toggleButton.Font = Enum.Font.GothamBold
toggleButton.BackgroundTransparency = 0.3
toggleButton.Parent = screenGui

-- Rounded corners
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 45) -- Full circle
corner.Parent = toggleButton

-- Glow effect
local glow = Instance.new("UIStroke")
glow.Thickness = 4
glow.Color = Color3.fromRGB(0, 255, 0)
glow.Transparency = 0.5
glow.Parent = toggleButton

-- Status label
local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(0, 200, 0, 30)
statusLabel.Position = UDim2.new(0.5, -100, 0.5, 50)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = "OFF"
statusLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
statusLabel.TextScaled = true
statusLabel.Font = Enum.Font.GothamBold
statusLabel.Parent = screenGui

-- Variables
local isRunning = false
local farmConnection

-- Toggle Function
local function toggleFarm()
    isRunning = not isRunning

    if isRunning then
        -- START
        toggleButton.Text = "STOP"
        toggleButton.TextColor3 = Color3.fromRGB(255, 0, 0)
        glow.Color = Color3.fromRGB(255, 0, 0)
        statusLabel.Text = "RUNNING..."
        statusLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
        
        debugPrint("♻️ AUTO-FARM STARTED!")

        -- Start infinite loop
        farmConnection = task.spawn(function()
            while isRunning do
                farmCycle() -- Your existing farmCycle() function
                task.wait(2)
            end
        end)

        -- Pulse animation
        TweenService:Create(toggleButton, TweenInfo.new(0.6, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {
            Size = UDim2.new(0, 100, 0, 100)
        }):Play()

    else
        -- STOP
        toggleButton.Text = "♻️"
        toggleButton.TextColor3 = Color3.fromRGB(0, 255, 0)
        glow.Color = Color3.fromRGB(0, 255, 0)
        statusLabel.Text = "OFF"
        statusLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
        
        debugPrint("AUTO-FARM STOPPED!")
        
        -- Kill loop
        if farmConnection then
            task.cancel(farmConnection)
        end

        -- Reset size
        toggleButton.Size = UDim2.new(0, 90, 0, 90)
    end
end

-- Click to toggle
toggleButton.MouseButton1Click:Connect(toggleFarm)

-- Optional: Press [R] to toggle
Players.LocalPlayer:GetMouse().KeyDown:Connect(function(key)
    if key:lower() == "r" then
        toggleFarm()
    end
end)

-- Notification
debugPrint("♻️ UI LOADED! Click the button or press [R] to START/STOP")
